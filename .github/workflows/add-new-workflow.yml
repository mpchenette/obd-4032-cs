# GENERATED BY COPILOT

name: Add New GitHub Actions Workflow

permissions:
  contents: write
  workflows: write

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  add-workflow:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Create new workflow file
      run: |
        cat <<EOF > .github/workflows/new-workflow.yml
        name: New GitHub Actions Workflow

        on: [push]

        jobs:
          build:
            runs-on: ubuntu-latest

            steps:
            - name: Checkout repository
              uses: actions/checkout@v2

            - name: Run a one-liner script
              run: echo "Hello, world!"
        EOF

    - name: Commit and push new workflow file
      run: |
        git config --global user.name "github-actions[bot]"
        git config --global user.email "github-actions[bot]@users.noreply.github.com"
        git add .github/workflows/new-workflow.yml
        git commit -m "Add new GitHub Actions workflow file"
        git push
